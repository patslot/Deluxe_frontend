<script src="http://hk.adx.nextmedia.com/uvp2/js/anvp.common.lib-v1.0.2.js"></script>
<script>
function renderVideo(video, elemId) {
  if (video && video.url) {
    var videoAdTags = [];
    var currentWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
    if (currentWidth < 768) {
      videoAdTags.push('<%= AD_MOBILE_BASE_TAG %>');
    } else {
      videoAdTags.push('<%= AD_WEB_BASE_TAG %>');
    }
    videoAdTags.push('<%= adTag %>');
    var prerollTag = videoAdTags.join("/") + "/" + "preroll";

    var anvp1 = new AnvatoPlayer('anvp1'); // Unique player id
    anvp1.setVideoUrl(video.url);
    anvp1.setPlayerSize("100%", "100%");
    anvp1.setTitle(video.title);
    anvp1.setDescription("");
    anvp1.setVolume(0.5); // Value between 0 - 1
    anvp1.setShareEnable(false);
    var videopAdTagURL = anvp1.generateDFPvideoTag(prerollTag, "640x360");
    anvp1.setVideoAdTagURL(videopAdTagURL);
    anvp1.createInstance(elemId || 'video_player'); // Div Id match

    function liveStateChanged(stateMessage, anvatoData) {
      switch(stateMessage) {
        case 'USER_RESUME':
        break;
        case 'USER_PAUSE':
        break;
        case 'VIDEO_STARTED':
        //anvatoData including video duration(anvatoData.duration) and time(anvatoData.currentTime)
        //Logging function
        break;
        case 'VIDEO_FIRST_QUARTILE':
        break;
        case 'VIDEO_MID_POINT':
        break;
        case 'VIDEO_THIRD_QUARTILE':
        break;
        case 'VIDEO_COMPLETED':
        break;
      }
    }
  }
}
</script>
